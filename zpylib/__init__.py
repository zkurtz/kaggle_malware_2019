import os
import pandas as pd
import yaml

from . import datatools
from . import learn
from . import model_loaders
from . import stats

# Constants
float_missing = -1e5
N_TRAIN = 8921483
N_TEST = 7853253
HOME = os.path.expanduser('~')
USER = os.path.join(HOME, '.malware')
with open(USER, 'r') as ymlfile:
    DIRS = yaml.load(ymlfile)

def data_path(string):
    data_path = os.path.join(DIRS['storage_dir'], 'data')
    return os.path.join(data_path, string)

def model_path(string):
    models_path = os.path.join(DIRS['storage_dir'], 'models')
    return os.path.join(models_path, string)

def train_colnames():
    metacols = ['MachineIdentifier', 'HasDetections']
    filepath = data_path('raw/train.csv')
    df = pd.read_csv(filepath, nrows=2)
    return [p for p in df.columns if p not in metacols]